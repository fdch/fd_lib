#N canvas 125 61 781 669 10;
#X declare -path ~/Documents/fd_lib;
#X obj 85 401 list trim;
#X obj 299 130 t b b;
#X obj 14 168 t b b;
#X msg 41 401 vis 0;
#X obj 210 12 declare -path ~/Documents/fd_lib;
#X obj 492 107 f;
#X obj 521 107 + 1;
#X msg 299 204 coords 0 1 1 0 210 210 2 5 5;
#X obj 299 418 send;
#X msg 320 393 symbol pd-template-\$1;
#X obj 85 136 f;
#X obj 532 156 s \$0-id;
#X obj 320 368 r \$0-id;
#X obj 100 113 r \$0-id;
#X obj 326 155 f;
#X obj 341 130 r \$0-id;
#X msg 326 181 obj 10 10 pd env-\$1;
#X obj 41 535 f;
#X obj 56 513 r \$0-id;
#X obj 492 133 t f f f;
#X obj 14 434 t b b;
#X msg 14 615 vis 1;
#X obj 14 6 inlet;
#X obj 534 201 t f f;
#X msg 492 401 obj \$3 \$2 pd template-\$1;
#X obj 492 374 pack f 10 10;
#X obj 534 180 mod 4;
#X obj 534 223 sel 0;
#X obj 534 245 f;
#X obj 559 245 + 1;
#X obj 584 245 mod 4;
#X obj 570 275 * 210;
#X obj 534 275 * 210;
#X obj 669 525 loadbang;
#X obj 626 632 send;
#X obj 669 547 symbol \$1;
#N canvas 0 22 450 300 print 0;
#X obj 93 24 loadbang;
#X obj 91 244 print fd_env;
#X msg 90 98 place an empty subpatch outside this abstraction and pass
its name through the first argument of this abstraction \, a <bang>
plots a random envelope \, a <list> with n-number of x y pairs plots
a new envelope \, a <clear> message destroys all envelopes and resets
count, f 31;
#X msg 300 65 10;
#X obj 300 87 until;
#X msg 300 109 .;
#X obj 300 131 print;
#X obj 93 46 t b b;
#X obj 102 225 r \$0-report;
#X connect 0 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 7 0 2 0;
#X connect 7 1 3 0;
#X connect 8 0 1 0;
#X restore 414 12 pd print;
#X msg 668 573 loading envelopes in \$1, f 10;
#X text 236 465 \$1 == (SYMBOL) pd-<subpatch_name>;
#X msg 591 219 0;
#X text 236 488 \$2 == (float) width of the line (default=1);
#X obj 534 311 + 12;
#X obj 570 311 + 12;
#X obj 492 243 t f b;
#X obj 519 343 f;
#N canvas 696 34 497 439 struct-variables 0;
#X obj 22 100 list append float width float color;
#X obj 22 46 inlet;
#X obj 22 402 outlet;
#X text 78 10 placeholder for as many variables as incoming points
;
#X text 62 122 width and color are default for drawpolygon's respective
first two arguments. See <drawpolygon-help.pd>, f 33;
#X obj 321 64 inlet;
#X obj 321 116 list length;
#X text 272 182 each xy pair == 1 point;
#X obj 229 218 fd_iterate;
#X obj 229 262 list tosymbol;
#X obj 229 240 + 97;
#X obj 229 326 t a a;
#X obj 144 265 list;
#X obj 229 304 list prepend;
#X obj 210 197 t b f b;
#X obj 321 144 moses 27;
#X obj 349 215 * 2;
#X obj 343 261 print fd_env;
#X msg 343 239 too many points (\$1);
#X obj 235 395 outlet;
#X obj 22 356 list;
#X text 246 375 to drawpolygon;
#X text 38 382 to create the struct;
#X obj 119 293 list;
#X text 262 194 points get stacked as letters (26);
#X obj 229 284 t a a;
#X obj 309 326 t a a;
#X obj 309 304 list prepend;
#X obj 307 284 list prepend float;
#X obj 125 226 list;
#X obj 22 68 t a b b;
#X obj 41 229 list;
#X obj 125 354 list prepend color width;
#X connect 0 0 20 0;
#X connect 1 0 30 0;
#X connect 5 0 6 0;
#X connect 6 0 15 0;
#X connect 8 0 10 0;
#X connect 9 0 25 0;
#X connect 10 0 9 0;
#X connect 11 0 12 1;
#X connect 11 1 13 1;
#X connect 12 0 23 1;
#X connect 13 0 11 0;
#X connect 14 0 12 0;
#X connect 14 0 29 0;
#X connect 14 1 8 0;
#X connect 14 2 13 1;
#X connect 14 2 27 1;
#X connect 15 0 14 0;
#X connect 15 1 16 0;
#X connect 16 0 18 0;
#X connect 18 0 17 0;
#X connect 20 0 2 0;
#X connect 23 0 32 0;
#X connect 25 0 13 0;
#X connect 25 1 28 0;
#X connect 26 0 29 1;
#X connect 26 1 27 1;
#X connect 27 0 26 0;
#X connect 28 0 27 0;
#X connect 29 0 31 1;
#X connect 30 0 0 0;
#X connect 30 1 31 0;
#X connect 30 2 23 0;
#X connect 31 0 20 1;
#X connect 32 0 19 0;
#X restore 85 195 pd struct-variables;
#N canvas 615 22 576 561 env 0;
#X obj 32 19 inlet;
#X obj 32 521 outlet;
#N canvas 0 22 514 546 reformat 0;
#X obj 88 79 list split 1;
#X obj 88 122 list;
#X msg 88 462 0 0.07 0.208617 0.29 0.371882 0.29 0.433107 0.27 0.455782
0.89 0.662131 0.27 0.680272 0.47 0.798186 0.82 0.909297 0.29 0.995465
0.51;
#X obj 88 143 list split;
#X obj 115 251 list;
#X obj 115 272 list split 1;
#X obj 88 228 t f b;
#X obj 127 327 /;
#X obj 251 245 fd_sum;
#X obj 160 327 sel 0;
#X msg 88 395 add2 \$2 \$1;
#X obj 127 350 fd_sum;
#X obj 100 305 sel 0;
#X obj 160 226 list prepend 0;
#X obj 160 195 t a a, f 11;
#X msg 287 395 set;
#X obj 48 46 t b a b b, f 23;
#X obj 48 19 inlet;
#X obj 88 520 outlet;
#X obj 88 102 t b f;
#X obj 88 367 list;
#X obj 88 195 fd_listout;
#X obj 251 222 fd_listout;
#X msg 48 424 add2 1 0 \, bang;
#X connect 0 0 19 0;
#X connect 0 1 1 1;
#X connect 1 0 3 0;
#X connect 2 0 18 0;
#X connect 3 0 21 0;
#X connect 3 1 14 0;
#X connect 4 0 5 0;
#X connect 5 0 12 0;
#X connect 5 1 4 1;
#X connect 6 0 20 0;
#X connect 6 1 4 0;
#X connect 7 0 11 0;
#X connect 8 0 9 0;
#X connect 9 0 11 1;
#X connect 9 1 7 1;
#X connect 10 0 2 0;
#X connect 11 0 20 1;
#X connect 12 0 11 1;
#X connect 12 1 7 0;
#X connect 13 0 4 1;
#X connect 14 0 13 0;
#X connect 14 1 22 0;
#X connect 15 0 2 0;
#X connect 16 0 23 0;
#X connect 16 1 0 0;
#X connect 16 2 15 0;
#X connect 16 3 8 1;
#X connect 17 0 16 0;
#X connect 19 0 1 0;
#X connect 19 1 3 1;
#X connect 20 0 10 0;
#X connect 21 0 6 0;
#X connect 22 0 8 0;
#X connect 23 0 2 0;
#X restore 32 485 pd reformat;
#X obj 144 284 random 100;
#X obj 144 306 / 100;
#X obj 53 179 random 10;
#X obj 53 223 t f f, f 17;
#X obj 53 421 list prepend, f 32;
#X obj 53 245 until;
#X obj 53 267 t b b;
#X msg 185 45 env 4 0 1 0.4 0 1 2 0.3;
#X text 156 22 this is what an <env> list looks like:;
#X text 123 74 first argument is number N of amplitude points (4);
#X text 118 93 then come all N amplitude points \, n1 \, n2... N-1
(0 1 0.4 0);
#X text 116 479 see [pd reformat] to see how <env> gets parsed as a
regular interleaved list of points in a structure;
#X obj 53 311 + 1;
#X obj 53 333 / 10;
#X obj 53 289 random 99;
#X obj 144 350 t a a;
#X obj 144 328 list prepend;
#X obj 53 355 list prepend;
#X obj 53 377 t a a;
#X obj 53 399 list prepend;
#X obj 32 445 list;
#X text 253 422 <-- putting number of points first;
#X obj 32 155 t b b b;
#X obj 213 172 bng 15 250 50 0 empty empty resetting-lists 17 7 0 10
-262144 -1 -1;
#X text 149 114 finally come durations in SECONDS (1 2 0.3);
#X obj 53 201 + 2;
#X connect 0 0 25 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 19 0;
#X connect 5 0 28 0;
#X connect 6 0 8 0;
#X connect 6 1 7 1;
#X connect 7 0 23 1;
#X connect 8 0 9 0;
#X connect 9 0 17 0;
#X connect 9 1 3 0;
#X connect 15 0 16 0;
#X connect 16 0 20 0;
#X connect 17 0 15 0;
#X connect 18 0 22 1;
#X connect 18 1 19 1;
#X connect 19 0 18 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 21 1 20 1;
#X connect 22 0 7 0;
#X connect 23 0 2 0;
#X connect 25 0 23 0;
#X connect 25 1 5 0;
#X connect 25 2 26 0;
#X connect 26 0 20 1;
#X connect 26 0 19 1;
#X connect 26 0 23 1;
#X connect 28 0 6 0;
#X restore 150 54 pd env;
#N canvas 59 148 475 475 rand 0;
#X obj 49 19 inlet;
#X obj 89 416 outlet;
#X obj 89 166 random 100;
#X obj 89 188 / 100;
#X obj 89 240 f;
#X obj 119 241 + 1;
#X obj 89 123 until;
#X obj 89 145 t b b;
#X obj 160 162 random 100;
#X obj 160 184 / 100;
#X obj 89 291 pack;
#X msg 89 335 0 0 0.01 0.84 0.68 0.61 0.7 0.03 0.82 0.06 0.05 0.97
0.46 0.26 0.24 0.5 0.87 0.91 1 0;
#X obj 49 51 t b b b, f 14;
#X obj 89 210 t f f;
#X msg 89 313 add2 \$1 \$2;
#X msg 261 198 set 0 0;
#X msg 49 265 add2 1 0 \, bang;
#X text 161 68 +4 coords for the first and last points;
#X obj 89 96 + 1;
#X obj 89 74 random 11;
#X connect 0 0 12 0;
#X connect 2 0 3 0;
#X connect 3 0 13 0;
#X connect 4 0 5 0;
#X connect 4 0 10 0;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 7 0 2 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 9 0 10 1;
#X connect 10 0 14 0;
#X connect 11 0 1 0;
#X connect 12 0 16 0;
#X connect 12 1 19 0;
#X connect 12 2 15 0;
#X connect 13 0 4 0;
#X connect 13 1 5 1;
#X connect 14 0 11 0;
#X connect 15 0 11 0;
#X connect 16 0 11 0;
#X connect 18 0 6 0;
#X connect 19 0 18 0;
#X restore 14 54 pd rand;
#N canvas 0 22 266 250 protect 0;
#X obj 52 21 inlet;
#X obj 52 43 t a a;
#X obj 97 49 list length;
#X obj 97 97 > 1;
#X obj 62 169 spigot;
#X obj 61 195 outlet;
#X obj 97 119 &&;
#X obj 97 74 t f f;
#X obj 97 141 t f f;
#X msg 113 175 wrong number of points!;
#X obj 113 197 s \$0-report;
#X obj 129 98 <= 26;
#X obj 141 144 sel 0;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 1 2 0;
#X connect 2 0 7 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 6 0 8 0;
#X connect 7 0 3 0;
#X connect 7 1 11 0;
#X connect 8 0 4 1;
#X connect 8 1 12 0;
#X connect 9 0 10 0;
#X connect 11 0 6 1;
#X connect 12 0 9 0;
#X restore 73 54 pd protect;
#X obj 14 90 t b b a a b b, f 60;
#X obj 572 45 t b b b;
#X obj 85 221 t b a;
#X obj 85 265 list;
#X obj 85 287 t b a;
#X obj 85 309 f;
#X obj 125 292 r \$0-id;
#X msg 85 159 list obj 10 220 struct envelope-\$1, f 19;
#X obj 85 351 t b a;
#X msg 85 243 list obj 10 300 drawpolygon;
#X msg 41 562 \; pd-env-\$1 coords 0 1 1 0 200 200 1 0 20 \, vis 0
\;;
#X obj 164 376 list;
#X msg 507 87 0;
#X obj 668 621 s \$0-report;
#X msg 685 390 clear;
#X obj 685 16 inlet;
#N canvas 119 108 499 625 free 0;
#X obj 88 37 inlet;
#X msg 172 285 \; pd-env-\$1 clear \;;
#X msg 86 345 \; pd-template-\$1 clear \;;
#X obj 88 255 f;
#X obj 172 254 fd_iterate;
#X obj 241 129 r \$0-id;
#X obj 241 163 + 1;
#X obj 172 149 f;
#X obj 88 112 t b b;
#X obj 88 284 fd_iterate;
#X obj 88 149 del 100;
#X connect 0 0 8 0;
#X connect 3 0 9 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 6 0 7 1;
#X connect 6 0 3 1;
#X connect 7 0 4 0;
#X connect 8 0 10 0;
#X connect 8 1 7 0;
#X connect 9 0 2 0;
#X connect 10 0 3 0;
#X restore 638 178 pd free;
#X obj 14 28 route bang list env free clear;
#X obj 685 45 bang;
#X obj 620 154 t b b;
#X msg 671 357 menusave;
#X obj 632 445 t b a;
#X obj 616 72 t b b;
#X msg 673 317 menusave;
#X obj 616 94 del 500;
#X obj 645 257 del 200;
#X text 237 515 \$3 == (float) color of the line (default=0);
#N canvas 0 22 450 300 fd_append 0;
#X msg 60 149 list obj 10 350 fd_append pd-env-\$1 envelope-\$1;
#X obj 57 69 inlet;
#X obj 60 243 outlet;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X restore 85 331 pd fd_append;
#X obj 185 351 list prepend 0 0 1;
#N canvas 0 22 450 300 sendappend 0;
#X obj 94 213 send;
#X obj 115 167 r \$0-id;
#X msg 115 188 symbol fd_append-pd-env-\$1;
#X obj 87 114 inlet;
#X connect 1 0 2 0;
#X connect 2 0 0 1;
#X connect 3 0 0 0;
#X restore 164 396 pd sendappend;
#N canvas 0 22 306 248 color-width 0;
#X obj 23 24 loadbang;
#X obj 123 100 sel 0;
#X msg 123 122 1;
#X obj 151 121 abs;
#X obj 32 115 abs;
#X obj 23 68 unpack;
#X obj 23 174 pack f f f;
#X obj 23 46 pack \$2 \$3;
#X obj 32 137 t f f;
#X obj 23 196 outlet;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 6 2;
#X connect 3 0 6 2;
#X connect 4 0 8 0;
#X connect 5 0 4 0;
#X connect 5 1 1 0;
#X connect 6 0 9 0;
#X connect 7 0 5 0;
#X connect 8 0 6 0;
#X connect 8 1 6 1;
#X restore 206 323 pd color-width;
#N canvas 0 22 450 300 template 1;
#N canvas 0 22 450 300 array-0 1;
#X obj 28 18 struct array-0 float x float y;
#X obj 32 76 plot array-0 500 1 10 15 20;
#X restore 30 17 pd array-0;
#X obj 186 176 pointer;
#X obj 159 80 t a b;
#X msg 186 152 traverse \$1 \, bang;
#X obj 186 130 t a a;
#X msg 300 132 \; \$1 clear;
#X floatatom 184 27 5 0 0 0 - - -, f 5;
#X msg 227 96 symbol pd-envelopes;
#N canvas 0 22 450 300 env-0 0;
#X obj 23 85 drawpolygon 0 1 0 0 0 10 10 10 10 0 0 0;
#X obj 20 19 struct env-0 float color float width array array-env-0
array-0;
#X restore 34 79 pd env-0;
#X obj 159 216 append env-0 color width, f 33;
#X msg 161 53 0 \$1;
#X connect 1 0 9 2;
#X connect 2 0 9 0;
#X connect 2 1 7 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 4 1 5 0;
#X connect 6 0 10 0;
#X connect 7 0 4 0;
#X connect 10 0 2 0;
#X restore 472 12 pd template;
#X connect 0 0 8 0;
#X connect 1 0 7 0;
#X connect 1 1 14 0;
#X connect 2 0 20 0;
#X connect 2 1 3 0;
#X connect 3 0 8 0;
#X connect 5 0 6 0;
#X connect 5 0 19 0;
#X connect 6 0 5 1;
#X connect 7 0 8 0;
#X connect 9 0 8 1;
#X connect 10 0 56 0;
#X connect 12 0 9 0;
#X connect 13 0 10 1;
#X connect 14 0 16 0;
#X connect 15 0 14 1;
#X connect 16 0 8 0;
#X connect 17 0 59 0;
#X connect 18 0 17 1;
#X connect 19 0 43 0;
#X connect 19 1 26 0;
#X connect 19 2 11 0;
#X connect 20 0 21 0;
#X connect 20 1 17 0;
#X connect 21 0 34 0;
#X connect 22 0 66 0;
#X connect 23 0 27 0;
#X connect 23 1 31 0;
#X connect 24 0 34 0;
#X connect 25 0 24 0;
#X connect 26 0 23 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 28 0 32 0;
#X connect 29 0 30 0;
#X connect 30 0 28 1;
#X connect 31 0 42 0;
#X connect 32 0 41 0;
#X connect 33 0 35 0;
#X connect 35 0 34 1;
#X connect 35 0 37 0;
#X connect 37 0 62 0;
#X connect 39 0 28 1;
#X connect 41 0 44 1;
#X connect 42 0 25 2;
#X connect 43 0 25 0;
#X connect 43 1 44 0;
#X connect 44 0 25 1;
#X connect 45 0 51 0;
#X connect 45 1 52 1;
#X connect 46 0 48 0;
#X connect 47 0 48 0;
#X connect 48 0 49 0;
#X connect 49 0 2 0;
#X connect 49 1 10 0;
#X connect 49 2 45 1;
#X connect 49 3 77 0;
#X connect 49 4 1 0;
#X connect 49 5 5 0;
#X connect 50 0 61 0;
#X connect 50 1 39 0;
#X connect 50 2 71 0;
#X connect 51 0 58 0;
#X connect 51 1 0 0;
#X connect 52 0 53 0;
#X connect 53 0 54 0;
#X connect 53 1 0 0;
#X connect 54 0 76 0;
#X connect 55 0 54 1;
#X connect 56 0 45 0;
#X connect 57 0 60 0;
#X connect 57 1 0 0;
#X connect 58 0 52 0;
#X connect 60 0 78 0;
#X connect 61 0 5 1;
#X connect 63 0 34 0;
#X connect 63 0 62 0;
#X connect 64 0 67 0;
#X connect 66 0 47 0;
#X connect 66 1 48 0;
#X connect 66 2 46 0;
#X connect 66 3 50 0;
#X connect 66 4 67 0;
#X connect 67 0 63 0;
#X connect 68 0 74 0;
#X connect 68 1 65 0;
#X connect 69 0 70 0;
#X connect 70 0 63 0;
#X connect 70 1 34 0;
#X connect 71 0 73 0;
#X connect 71 1 72 0;
#X connect 72 0 34 0;
#X connect 73 0 68 0;
#X connect 74 0 69 0;
#X connect 76 0 57 0;
#X connect 77 0 60 1;
#X connect 79 0 77 1;
