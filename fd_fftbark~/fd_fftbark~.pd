#N canvas 524 49 407 700 10;
#X declare -path ~/Documents/fd_lib -stdlib zexy;
#X text 97 162 an FFT analysis normalized by the BARK scale, f 24
;
#X obj 177 8 inlet;
#N canvas 148 66 434 586 windowing 0;
#X msg 126 136 2048;
#X msg 56 136 128;
#X msg 89 136 1024;
#X msg 165 136 4096;
#X msg 27 136 64;
#X msg 342 185 2048;
#X msg 217 185 128;
#X msg 306 185 1024;
#X msg 379 185 4096;
#X msg 188 185 64;
#X obj 27 395 pack f 1;
#X text 72 295 overlaps;
#X text 34 71 blocksize;
#X msg 276 185 512;
#X msg 246 185 256;
#X obj 26 11 inlet;
#X obj 27 90 sel 0 1 2 3 4;
#X obj 253 127 sel 0 1 2 3 4 5 6;
#X obj 27 443 s windowing;
#X obj 50 313 sel 0 1 2 3;
#X msg 38 342 1;
#X msg 68 341 2;
#X msg 97 340 4;
#X msg 127 340 8;
#X text 272 106 windowsize;
#X obj 285 534 blackman 2048;
#X obj 27 35 route blocksize windowsize overlaps type;
#X obj 204 323 route 0 1;
#X obj 154 445 s windowtype;
#X msg 154 393 symbol hann;
#X msg 164 416 symbol blackman;
#X text 285 352 blackman coefficients;
#X obj 232 344 t b f;
#X text 85 538 windows are here -->;
#X text 27 490 ________________________________________________________________
, f 65;
#X msg 267 228 \; hann-size \$1 \; blackman-size \$1 \;;
#X obj 27 229 f;
#X obj 49 371 t b f f;
#X obj 285 369 sel 0 1 2 3;
#X msg 285 411 1 0.9 1.4 1;
#X msg 292 431 1 1.15 0.4 0.4;
#X msg 300 454 1 1 0.4 1;
#X msg 285 391 1 1 1 1;
#X obj 231 534 fd_hann;
#X obj 305 13 loadbang;
#X msg 305 39 blocksize 2 \, windowsize 3 \, overlaps 2 \, type 0,
f 13;
#X connect 0 0 36 0;
#X connect 1 0 36 0;
#X connect 2 0 36 0;
#X connect 3 0 36 0;
#X connect 4 0 36 0;
#X connect 5 0 35 0;
#X connect 6 0 35 0;
#X connect 7 0 35 0;
#X connect 8 0 35 0;
#X connect 9 0 35 0;
#X connect 10 0 18 0;
#X connect 13 0 35 0;
#X connect 14 0 35 0;
#X connect 15 0 26 0;
#X connect 16 0 4 0;
#X connect 16 1 1 0;
#X connect 16 2 2 0;
#X connect 16 3 0 0;
#X connect 16 4 3 0;
#X connect 17 0 9 0;
#X connect 17 1 6 0;
#X connect 17 2 14 0;
#X connect 17 3 13 0;
#X connect 17 4 7 0;
#X connect 17 5 5 0;
#X connect 17 6 8 0;
#X connect 19 0 20 0;
#X connect 19 1 21 0;
#X connect 19 2 22 0;
#X connect 19 3 23 0;
#X connect 20 0 37 0;
#X connect 21 0 37 0;
#X connect 22 0 37 0;
#X connect 23 0 37 0;
#X connect 26 0 16 0;
#X connect 26 1 17 0;
#X connect 26 2 19 0;
#X connect 26 3 27 0;
#X connect 27 0 29 0;
#X connect 27 1 32 0;
#X connect 29 0 28 0;
#X connect 30 0 28 0;
#X connect 32 0 30 0;
#X connect 32 1 38 0;
#X connect 36 0 10 0;
#X connect 37 0 10 0;
#X connect 37 1 10 1;
#X connect 38 0 42 0;
#X connect 38 1 39 0;
#X connect 38 2 40 0;
#X connect 38 3 41 0;
#X connect 39 0 25 0;
#X connect 40 0 25 0;
#X connect 41 0 25 0;
#X connect 42 0 25 0;
#X connect 44 0 45 0;
#X connect 45 0 26 0;
#X restore 312 54 pd windowing;
#X obj 27 9 inlet~;
#X obj 27 105 *~;
#X obj 42 85 tabreceive~ hann;
#X obj 27 128 rfft~;
#X obj 27 150 *~;
#X obj 57 150 *~;
#X obj 27 200 sqrt~;
#X obj 128 589 tabreceive~ hann;
#X obj 30 509 /~;
#X obj 30 289 sig~ 1;
#X obj 30 555 rifft~;
#X obj 30 631 outlet~;
#X obj 30 606 *~;
#X obj 158 259 +~ 1960;
#X obj 89 259 *~ 26.81;
#X obj 122 291 /~;
#X obj 122 314 -~ 0.53;
#X obj 60 338 <~ 2;
#X obj 60 358 *~;
#X obj 221 369 *~;
#X obj 112 434 &&~;
#X obj 236 345 <~ 20.1;
#X obj 112 412 >~ 2;
#X obj 152 412 <~ 20.1;
#X obj 45 389 sig~ 2;
#X obj 45 411 -~;
#X obj 45 433 *~ 0.15;
#X obj 45 455 +~;
#X obj 221 391 -~ 20.1;
#X obj 221 413 *~ 0.22;
#X obj 221 435 +~;
#X text 97 655 needs the zexy external;
#X text 98 199 one over the Bark scale;
#X text 128 216 check <fd_bark-help>;
#X text 134 230 <fd_bark~> \, <fd_bark>;
#X obj 184 100 r windowing;
#X msg 184 122 set \$1 \$2;
#X msg 42 64 set \$1;
#X obj 128 550 r windowtype;
#X msg 128 569 set \$1;
#X obj 31 671 declare -path ~/Documents/fd_lib -stdlib zexy;
#X obj 177 143 switch~ \$1;
#X obj 177 73 tgl 15 0 empty empty switch 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 0 22 450 300 printer 0;
#X obj 51 105 r windowing;
#X obj 51 179 print fd_fftbark~;
#X obj 88 156 r windowtype;
#X msg 51 127 blocksize \$1 overlaps \$2;
#X obj 129 77 r hann-size;
#X msg 132 99 window-size \$1;
#X connect 0 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X restore 311 74 pd printer;
#X obj 30 581 clip~ -1 1;
#X obj 231 526 tabwrite~ \$0-analysis-array, f 17;
#X obj 279 475 spigot;
#X obj 279 452 bang~;
#X obj 279 499 t b b;
#X obj 279 629 outlet;
#X obj 312 420 tgl 15 0 empty empty graph 17 7 0 10 -262144 -1 -1 0
1;
#X obj 30 531 *~ 1;
#X obj 64 531 == 0;
#X text 223 9 \$1 == graph fraction to cut;
#X obj 177 30 route float graph peak, f 23;
#X obj 42 42 r windowtype;
#X obj 267 99 s peak-control;
#X obj 88 482 +~ 1e-08;
#N canvas 29 22 476 189 peak-analysis 0;
#X obj 254 159 array define \$0-analysis-array;
#X obj 254 11 r windowing;
#X obj 254 33 unpack;
#X obj 254 55 change;
#X msg 254 127 resize \$1;
#X obj 254 77 t f b;
#X obj 299 84 f \$1;
#X obj 299 106 sel 0;
#X obj 254 106 / 1;
#X obj 12 88 tabletool \$0-analysis-array;
#X obj 123 9 r peak-control;
#X obj 12 48 list append 0.2 0.5;
#X msg 12 69 peaks \$1 \$2;
#X obj 12 163 outlet;
#X text 102 63 see <tabletool-help.pd>;
#X obj 12 7 inlet;
#X obj 373 11 inlet;
#X obj 373 33 change;
#X obj 373 55 bang;
#X msg 373 77 const 0;
#X obj 120 109 t f b;
#X obj 141 132 f;
#X obj 167 132 + 1;
#X msg 194 108 0;
#X obj 12 29 t b b;
#X obj 12 141 pack f f f;
#X floatatom 150 163 5 0 0 0 - - -, f 5;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X connect 5 0 8 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 7 1 8 1;
#X connect 8 0 4 0;
#X connect 9 0 25 0;
#X connect 9 1 20 0;
#X connect 10 0 11 1;
#X connect 11 0 12 0;
#X connect 12 0 9 0;
#X connect 15 0 24 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 0 0;
#X connect 20 0 25 1;
#X connect 20 1 21 0;
#X connect 21 0 22 0;
#X connect 21 0 25 2;
#X connect 21 0 26 0;
#X connect 22 0 21 1;
#X connect 23 0 21 1;
#X connect 24 0 11 0;
#X connect 24 1 23 0;
#X connect 25 0 13 0;
#X restore 279 573 pd peak-analysis;
#X connect 1 0 57 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 6 0 7 1;
#X connect 6 1 8 0;
#X connect 6 1 8 1;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 9 0 17 0;
#X connect 9 0 16 0;
#X connect 10 0 15 1;
#X connect 11 0 54 0;
#X connect 11 0 48 0;
#X connect 12 0 11 0;
#X connect 13 0 47 0;
#X connect 15 0 14 0;
#X connect 16 0 18 1;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 19 0 24 0;
#X connect 19 0 21 1;
#X connect 19 0 22 0;
#X connect 19 0 25 0;
#X connect 19 0 26 0;
#X connect 20 0 21 0;
#X connect 21 0 28 1;
#X connect 21 0 30 1;
#X connect 22 0 31 0;
#X connect 22 0 33 1;
#X connect 23 0 60 0;
#X connect 24 0 22 1;
#X connect 25 0 23 0;
#X connect 26 0 23 1;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 60 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 60 0;
#X connect 38 0 39 0;
#X connect 39 0 44 0;
#X connect 40 0 5 0;
#X connect 41 0 42 0;
#X connect 42 0 10 0;
#X connect 45 0 44 0;
#X connect 47 0 15 0;
#X connect 49 0 51 0;
#X connect 50 0 49 0;
#X connect 51 0 61 0;
#X connect 51 1 48 0;
#X connect 53 0 49 1;
#X connect 53 0 55 0;
#X connect 53 0 61 1;
#X connect 54 0 13 0;
#X connect 55 0 54 1;
#X connect 57 0 45 0;
#X connect 57 1 53 0;
#X connect 57 2 59 0;
#X connect 57 3 2 0;
#X connect 58 0 40 0;
#X connect 60 0 11 1;
#X connect 61 0 52 0;
