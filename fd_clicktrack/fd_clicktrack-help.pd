#N canvas 521 50 530 480 12;
#X declare -path fd_lib;
#X obj 4 4 cnv 15 522 30 empty empty "fd_clicktrack" 20 15 0 15 -228856
-1 0;
#X obj 4 254 cnv 15 522 20 empty empty arguments: 10 10 0 14 -228856
-1 0;
#X obj 4 305 cnv 15 522 20 empty empty inlets: 10 10 0 14 -228856 -1
0;
#X obj 4 374 cnv 15 522 20 empty empty outlets: 10 10 0 14 -228856
-1 0;
#X obj 4 453 cnv 15 522 20 empty empty version 10 10 0 14 -228856 -1
0;
#X obj 380 8 declare -path fd_lib;
#X text 440 452 fd_lib v0.1;
#X text 10 40 A utility that allows you to build a 'click track';
#X text 60 278 1: float : instance ID \, can be \$0 or any index;
#X obj 23 82 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 24 129 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 182 72 fd_clicktrack 0;
#X obj 23 102 s 0-click-onoff-set;
#X obj 24 149 s 0-reset-set;
#X obj 26 196 s 0-keys-set;
#X obj 26 176 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 26 217 (tap spacebar);
#N canvas 438 58 637 659 midi 0;
#X obj 240 612 dac~;
#X obj 289 371 route 144;
#X obj 27 202 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 502 177 546 542 note 0;
#X obj 191 466 *~;
#X obj 344 350 / 127;
#X msg 344 372 \$1 10;
#X obj 344 394 line~;
#X obj 193 501 outlet~;
#X obj 23 121 unpack;
#X obj 28 2 inlet;
#X obj 21 143 makenote 1 50;
#X obj 20 392 *~;
#X obj 21 171 pack f 10;
#X obj 19 194 line~;
#X obj 20 265 phasor~;
#X obj 19 342 cos~;
#X obj 20 289 -~;
#X obj 85 288 osc~;
#X obj 85 267 /;
#X obj 154 364 line~;
#X msg 145 328 0 \$1;
#X obj 144 305 f;
#X obj 170 306 del;
#X obj 144 220 t f f;
#X obj 179 281 t f f;
#X msg 180 328 1 \$1;
#X obj 179 259 * 0.05;
#X obj 156 396 *~;
#X obj 156 418 *~;
#X msg 85 247 1 \$1;
#X obj 81 111 t f b;
#X obj 133 254 * 0.5;
#X obj 153 136 int 300;
#X obj 19 216 mtof~;
#X obj 19 238 +~;
#X obj 69 220 *~ 10;
#X obj 65 195 osc~ 300;
#X obj 26 29 unpack;
#X obj 23 65 spigot;
#X obj 76 66 t f f;
#X obj 36 91 pack;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 0 1;
#X connect 5 0 7 0;
#X connect 5 1 27 0;
#X connect 6 0 34 0;
#X connect 7 0 9 0;
#X connect 7 1 1 0;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 30 0;
#X connect 11 0 13 0;
#X connect 12 0 8 0;
#X connect 13 0 12 0;
#X connect 14 0 13 1;
#X connect 15 0 14 0;
#X connect 16 0 24 0;
#X connect 16 0 24 1;
#X connect 17 0 16 0;
#X connect 18 0 17 0;
#X connect 19 0 18 0;
#X connect 20 0 28 0;
#X connect 20 1 23 0;
#X connect 21 0 19 0;
#X connect 21 1 22 0;
#X connect 22 0 16 0;
#X connect 23 0 21 0;
#X connect 24 0 25 0;
#X connect 24 0 25 1;
#X connect 25 0 8 1;
#X connect 26 0 15 0;
#X connect 27 0 7 1;
#X connect 27 1 29 0;
#X connect 28 0 18 1;
#X connect 29 0 7 2;
#X connect 29 0 20 0;
#X connect 29 0 26 0;
#X connect 30 0 31 0;
#X connect 31 0 11 0;
#X connect 32 0 31 1;
#X connect 33 0 32 0;
#X connect 34 0 35 0;
#X connect 34 1 36 0;
#X connect 35 0 37 0;
#X connect 36 0 35 1;
#X connect 36 1 37 1;
#X connect 37 0 5 0;
#X restore 318 489 pd note;
#X msg 125 251 reset;
#X msg 27 222 onoff \$1;
#X floatatom 430 153 5 0 0 0 goto - -;
#X obj 450 305 route bang;
#X obj 545 155 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 517 438 print MIDI;
#X floatatom 51 252 5 0 0 1 bpm - -;
#X obj 218 549 *~ 1;
#X obj 243 523 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 25 312 fd_clicktrack 2;
#X obj 444 555 switch~;
#N canvas 0 22 397 438 line 0;
#X msg 34 89 0 \, 1 \$1;
#X obj 34 129 line 0 1;
#X obj 161 210 t f f;
#X obj 173 123 /;
#X obj 34 222 bang;
#X obj 34 151 * 384;
#X obj 34 176 int;
#X obj 34 198 change;
#X obj 93 70 t b f;
#X obj 93 91 f;
#X obj 93 112 / 500;
#X msg 132 71 1000 \$1;
#X obj 132 93 /;
#X obj 173 100 / 1000;
#X obj 34 53 t f f;
#X obj 161 156 route ticks_per_quarternote microsec_per_quarternote
time_sig, f 28;
#X obj 271 207 list split 1;
#X obj 34 21 inlet;
#X obj 34 361 outlet;
#X obj 271 359 outlet;
#X obj 308 16 inlet;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 5 1;
#X connect 2 1 3 1;
#X connect 3 0 13 0;
#X connect 4 0 18 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 8 1 11 0;
#X connect 9 0 10 0;
#X connect 10 0 1 2;
#X connect 11 0 12 0;
#X connect 12 0 10 1;
#X connect 13 0 9 0;
#X connect 14 0 0 0;
#X connect 14 1 8 0;
#X connect 15 0 2 0;
#X connect 15 1 3 0;
#X connect 15 2 16 0;
#X connect 16 0 19 0;
#X connect 17 0 14 0;
#X connect 20 0 15 0;
#X restore 289 225 pd line;
#X obj 418 279 t a a;
#N canvas 0 22 450 300 tick 0;
#X text 24 44 Edit this if you need other time signatures. For now
it only works for n/4 time signatures., f 14;
#X obj 250 69 * 384;
#X obj 177 115 * 4;
#X obj 250 46 - 1;
#X obj 252 10 inlet;
#X obj 111 12 inlet;
#X obj 177 137 outlet;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 2 1;
#X restore 335 252 pd tick barnum;
#X obj 289 200 r 0-pulse;
#X obj 289 278 mrpeach/midifile;
#X obj 289 449 print MIDI-NOTES;
#X obj 289 415 t a a;
#X obj 384 522 fd_switch;
#X obj 314 547 *~;
#X msg 450 349 rewind \; 2-reset-set bang \; 2-click-onoff-set 0;
#X obj 450 330 bng 15 250 50 0 empty empty stop 17 7 0 10 -262144 -1
-1;
#X obj 430 229 t a a;
#X obj 462 256 s 2-goto;
#X msg 212 215 verbose 0;
#X obj 213 192 loadbang;
#X msg 32 111 read midifile-test.mid;
#X text 197 112 <-- type full path to file;
#X text 39 26 You can use [fd_clicktrack] to interact with mrpeach's
[midifile]. Download "mrpeach" from Help > Find externals. Then you
can load a midifile with the 'read' message., f 77;
#X connect 1 0 21 0;
#X connect 1 1 9 0;
#X connect 2 0 5 0;
#X connect 3 0 23 0;
#X connect 4 0 13 0;
#X connect 5 0 13 0;
#X connect 6 0 26 0;
#X connect 7 0 25 0;
#X connect 7 1 9 0;
#X connect 8 0 22 0;
#X connect 10 0 13 0;
#X connect 11 0 0 0;
#X connect 11 0 0 1;
#X connect 12 0 11 1;
#X connect 13 1 11 0;
#X connect 15 0 19 0;
#X connect 15 1 17 0;
#X connect 16 0 15 1;
#X connect 16 1 7 0;
#X connect 17 0 19 0;
#X connect 18 0 15 0;
#X connect 19 0 1 0;
#X connect 19 2 16 0;
#X connect 21 0 20 0;
#X connect 21 1 3 0;
#X connect 22 0 23 1;
#X connect 22 1 14 0;
#X connect 23 0 0 0;
#X connect 23 0 0 1;
#X connect 24 0 19 0;
#X connect 25 0 24 0;
#X connect 26 0 17 1;
#X connect 26 1 27 0;
#X connect 28 0 19 0;
#X connect 29 0 28 0;
#X connect 30 0 19 0;
#X restore 408 204 pd midi;
#X text 60 330 1: bang : tap twice for beat \; 1: float : beats per
minute \;;
#N canvas 257 61 795 563 more 0;
#X msg 30 25 bang;
#X obj 78 138 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 107 241 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 79 155 click \$1;
#X msg 109 289 reset;
#X obj 62 87 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X msg 62 107 keys \$1;
#X msg 107 260 onoff \$1;
#X floatatom 92 186 5 0 0 0 - - -;
#X msg 90 212 goto \$1;
#X floatatom 43 56 5 0 0 1 bpm - -;
#X obj 31 331 fd_clicktrack 1;
#X text 77 26 <-- tap twice for auto beat;
#X text 109 57 <-- send in beats per minute;
#X text 133 107 <-- turn keyboard on/off to tap tempo with spacebar
;
#X text 150 157 <-- turn click sound on/off. Listen via second outlet.
;
#X obj 221 514 dac~;
#X text 156 212 <-- go to a desired beat/bar number;
#X text 182 258 <-- turn metro on/off;
#X text 176 291 <-- reset to first bar;
#X msg 605 54 bang;
#X obj 653 167 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 682 270 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 654 184 click \$1;
#X msg 684 318 reset;
#X obj 637 116 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 637 136 keys \$1;
#X msg 682 289 onoff \$1;
#X floatatom 667 215 5 0 0 0 - - -;
#X msg 665 241 goto \$1;
#X floatatom 618 85 5 0 0 1 bpm - -;
#X obj 606 370 s fd_clicktrack-1;
#X text 604 20 ... or this:;
#X text 354 408 You can also set/get information via:;
#X obj 31 506 t f b;
#X obj 76 534 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 31 532 5 0 0 0 - - -;
#X text 233 363 <-- turn click on/off and set volume;
#X obj 653 491 r 1-barcount;
#X obj 555 491 r 1-beat;
#X obj 475 491 r 1-pulse;
#X obj 360 491 r 1-beatmsec;
#X floatatom 360 517 5 0 0 0 - - -;
#X floatatom 475 517 5 0 0 0 - - -;
#X floatatom 555 517 5 0 0 0 - - -;
#X floatatom 653 517 5 0 0 0 - - -;
#X text 238 480 <-- see patch;
#X obj 360 438 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 361 461 s 1-reset-set;
#X obj 462 460 s 1-keys-set;
#X obj 465 440 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 567 463 s 1-click-onoff-set;
#X obj 567 441 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 710 437 5 0 0 0 - - -;
#X obj 709 462 s 1-goto;
#X connect 0 0 11 0;
#X connect 1 0 3 0;
#X connect 2 0 7 0;
#X connect 3 0 11 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 11 0;
#X connect 7 0 11 0;
#X connect 8 0 9 0;
#X connect 9 0 11 0;
#X connect 10 0 11 0;
#X connect 11 0 34 0;
#X connect 11 1 16 0;
#X connect 11 1 16 1;
#X connect 20 0 31 0;
#X connect 21 0 23 0;
#X connect 22 0 27 0;
#X connect 23 0 31 0;
#X connect 24 0 31 0;
#X connect 25 0 26 0;
#X connect 26 0 31 0;
#X connect 27 0 31 0;
#X connect 28 0 29 0;
#X connect 29 0 31 0;
#X connect 30 0 31 0;
#X connect 34 0 36 0;
#X connect 34 1 35 0;
#X connect 38 0 45 0;
#X connect 39 0 44 0;
#X connect 40 0 43 0;
#X connect 41 0 42 0;
#X connect 47 0 48 0;
#X connect 50 0 49 0;
#X connect 52 0 51 0;
#X connect 53 0 54 0;
#X restore 317 338 pd more messages;
#X text 60 410 1: float : outputs each beat time in milliseconds;
#N canvas 0 22 450 300 meta 0;
#X text 10 10 fd_lib - metadata file - Fri Sep 13 18:18:32 EDT 2019
;
#X text 10 25 patch_name : fd_clicktrack;
#X text 10 40 inlet : 2;
#X text 10 55 outlet : 1;
#X text 10 70 inlet~ : 0;
#X text 10 85 outlet~ : 0;
#X text 10 100 arguments : 1;
#X text 10 115 classes used : 36;
#X text 10 130 total objects: 142;
#X text 10 145 connections : 195;
#X text 10 160 dependencies : 0 [0];
#X text 10 175 externals : 3 [0switch~:fd_switch:!msg];
#X text 10 190 internals : 33/233 [0t:s:r:sel:nbx:inlet:f:*~:tgl:mod:/:+:outlet~:outlet:int:cnv:bng:*:timer:spigot:route:metro:del:vsl:print:pack:osc~:namecanvas:min:loadbang:line~:key:change]
;
#X restore 438 423 pd meta;
#X connect 9 0 12 0;
#X connect 10 0 13 0;
#X connect 15 0 14 0;
